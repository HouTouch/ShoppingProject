(function(){"use strict";var e={1798:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("div",[t("router-view",[e._v("1")]),t("van-tabbar",{attrs:{route:"","active-color":"#ee0a24","inactive-color":"#000"}},[t("van-tabbar-item",{attrs:{icon:"wap-home-o",to:"/home"}},[e._v("首页")]),t("van-tabbar-item",{attrs:{icon:"apps-o",to:"/category"}},[e._v("分类页")]),t("van-tabbar-item",{attrs:{icon:"shopping-cart-o",to:"/cart"}},[e._v("购物车")]),t("van-tabbar-item",{attrs:{icon:"user-o",to:"/user"}},[e._v("我的")])],1)],1)},o=[],a={name:"layoutIndex"},s=a,i=n(1656),u=(0,i.A)(s,r,o,!1,null,null,null),c=u.exports},9652:function(e,t,n){n.d(t,{L6:function(){return s},U4:function(){return a},d6:function(){return i},fd:function(){return o}});var r=n(5720);const o=()=>r.A.get("/cart/list"),a=(e,t,n)=>r.A.post("/cart/add",{goodsId:e,goodsNum:t,goodsSkuId:n}),s=(e,t,n)=>r.A.post("/cart/update",{goodsId:e,goodsNum:t,goodsSkuId:n}),i=e=>r.A.post("/cart/clear",{cartIds:e})},9802:function(e,t,n){var r=n(6848),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("guide")],1)},a=[],s=n(1798),i={components:{guide:s["default"]}},u=i,c=n(1656),d=(0,c.A)(u,o,a,!1,null,null,null),f=d.exports,l=n(6178);const p=()=>Promise.resolve().then(n.bind(n,1798)),h=()=>n.e(701).then(n.bind(n,701)),m=()=>n.e(206).then(n.bind(n,5206)),A=()=>n.e(818).then(n.bind(n,1818)),g=()=>n.e(975).then(n.bind(n,1975)),v=()=>n.e(209).then(n.bind(n,5209)),y=()=>n.e(42).then(n.bind(n,4042)),b=()=>n.e(300).then(n.bind(n,7300)),C=()=>n.e(807).then(n.bind(n,7807)),k=()=>n.e(745).then(n.bind(n,1745)),L=()=>n.e(298).then(n.bind(n,8298)),_=()=>n.e(80).then(n.bind(n,1080)),w=()=>n.e(989).then(n.bind(n,6989));r.Ay.use(l.Ay);const I=new l.Ay({routes:[{path:"/",component:p,redirect:"/home",children:[{path:"/home",component:b},{path:"/category",component:C},{path:"/user",component:k},{path:"/cart",component:L}]},{path:"/login",component:h},{path:"/search",component:m},{path:"/searchlist",component:A},{path:"/prodetail/:id",component:g},{path:"/pay",component:v},{path:"/myorder",component:y},{path:"/address",component:_},{path:"/addAddress",component:w}]});var S=I,O=n(3559),j=(n(1848),n(5856)),N=(n(8313),n(3240)),x=(n(6879),n(3418)),E=(n(4273),n(2560)),T=(n(1847),n(3245)),P=(n(4559),n(5333)),F=(n(8793),n(2455)),U=(n(7369),n(6576)),B=(n(4437),n(7164)),J=(n(2577),n(1502)),q=(n(7038),n(2757)),H=(n(4395),n(8017)),M=(n(5395),n(9750)),D=(n(5172),n(4471)),V=(n(7385),n(9287)),K=(n(4238),n(9108)),R=(n(9694),n(341)),$=(n(9072),n(9211)),z=(n(2406),n(1245)),G=(n(5782),n(5261)),Q=(n(4856),n(6595)),W=(n(8813),n(8612)),X=(n(8959),n(394)),Y=(n(7856),n(6347)),Z=(n(6246),n(1613));r.Ay.use(Z.A),r.Ay.use(Y.A),r.Ay.use(X.A),r.Ay.use(W.A),r.Ay.use(Q.A),r.Ay.use(G.A),r.Ay.use(z.A),r.Ay.use($.A),r.Ay.use(R.A),r.Ay.use(K.A),r.Ay.use(V.A),r.Ay.use(D.A),r.Ay.use(M.A),r.Ay.use(H.A),r.Ay.use(q.A),r.Ay.use(J.A),r.Ay.use(B.A),r.Ay.use(U.A),r.Ay.use(F.A),r.Ay.use(P.A),r.Ay.use(T.A),r.Ay.use(E.A),r.Ay.use(x.A),r.Ay.use(N.A),r.Ay.use(j.A),r.Ay.config.productionTip=!1,new r.Ay({router:S,store:O.A,render:e=>e(f)}).$mount("#app")},3559:function(e,t,n){n.d(t,{A:function(){return l}});var r={};n.r(r);var o=n(6848),a=n(3518),s=n(2272),i={namespaced:!0,state(){return{userInfo:(0,s.Vp)()}},mutations:{setUserInfo(e,t){e.userInfo=t,(0,s.x1)(t)}},actions:{logout(e){e.commit("setUserInfo",{}),e.commit("cart/setCartList",[],{root:!0})}},getters:{}},u=(n(8813),n(8612)),c=n(9652),d={namespaced:!0,state(){return{cartList:[]}},mutations:{setCartList(e,t){e.cartList=t,console.log(e.cartList)},checedOne(e,t){const n=e.cartList.find((e=>e.goods_id===t));n.isChecked=!n.isChecked},checkdAll(e,t){e.cartList.forEach((e=>{e.isChecked=t}))},changeCount(e,{goodsId:t,value:n}){const r=e.cartList.find((e=>e.goods_id===t));r.goods_num=n}},actions:{async getCartAction(e){const{data:t}=await(0,c.fd)();t.list.forEach((e=>{e.isChecked=!0})),e.commit("setCartList",t.list)},async changeCountAction(e,t){const{goodsId:n,value:r,skuId:o}=t;e.commit("changeCount",{goodsId:n,value:r}),await(0,c.L6)(n,r,o)},async delSelectFnc(e){const t=e.getters.selCarList,n=t.map((e=>e.id));await(0,c.d6)(n),(0,u.A)("删除成功"),e.dispatch("getCartAction")}},getters:{carTotal(e){return e.cartList.reduce(((e,t)=>e+t.goods_num),0)},selCarList(e){return e.cartList.filter((e=>e.isChecked))},selCarTotal(e,t){return t.selCarList.reduce(((e,t)=>e+t.goods_num),0)},selCount(e,t){return t.selCarList.reduce(((e,t)=>e+t.goods_num*t.goods.goods_price_min),0).toFixed(2)},isAllChecked(e){return e.cartList.every((e=>e.isChecked))}}};n(5720);var f={namespaced:!0,state(){return{addressList:{}}},mutations:{},getters:{},actions:{async addAddress(e,t){console.log(t),await(0,r["default"])(t)}}};o.Ay.use(a.Ay);var l=new a.Ay.Store({getters:{token(e){return console.log(e.user.userInfo.token),e.user.userInfo.token}},modules:{user:i,cart:d,address:f}})},5720:function(e,t,n){n(8813);var r=n(8612),o=n(5166),a=n(3559);const s=o.A.create({baseURL:"http://smart-shop.itheima.net/index.php?s=/api/",timeout:5e3,headers:{platform:"H5"}});s.interceptors.request.use((function(e){r.A.loading({message:"加载中...",forbidClick:!0,duration:0});const t=a.A.getters.token;return t&&(e.headers["Access-Token"]=t,e.headers.platform="H5"),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){const t=e.data;return 200!==t.status?((0,r.A)(t.message),Promise.reject(t.message)):(r.A.clear(),t)}),(function(e){return Promise.reject(e)})),t.A=s},2272:function(e,t,n){n.d(t,{FA:function(){return i},Vp:function(){return o},b1:function(){return u},x1:function(){return a}});const r="shopping_info",o=()=>{const e={token:"",userId:""},t=localStorage.getItem(r);return t?JSON.parse(t):e},a=e=>{localStorage.setItem(r,JSON.stringify(e))},s="search_history",i=()=>{const e=localStorage.getItem(s);return e?JSON.parse(e):[]},u=e=>{localStorage.setItem(s,JSON.stringify(e))}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var s=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],a=e[d][2];for(var i=!0,u=0;u<r.length;u++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(i=!1,a<s&&(s=a));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{42:"8a4263f8",80:"a58c9914",206:"6ce6eb93",209:"c3601e6d",298:"bd173f97",300:"af5fb4c4",701:"78a7116b",745:"9b854829",807:"d0ed0397",818:"066c27e3",975:"5d03508f",989:"e11f4d2b"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{42:"475fbc84",80:"4f09bb20",206:"78d35205",209:"6cb6ec77",298:"77f62f24",300:"3383f525",701:"329b29a9",745:"fe846fad",807:"9c605ea7",818:"889272a3",975:"740ff033",989:"86173f13"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="demo1:";n.l=function(r,o,a,s){if(e[r])e[r].push(o);else{var i,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var f=c[d];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){i=f;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[o];var l=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(l.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=l.bind(null,i.onerror),i.onload=l.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,r,o,a){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",n.nc&&(s.nonce=n.nc);var i=function(n){if(s.onerror=s.onload=null,"load"===n.type)o();else{var r=n&&n.type,i=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+i+")");u.name="ChunkLoadError",u.code="CSS_CHUNK_LOAD_FAILED",u.type=r,u.request=i,s.parentNode&&s.parentNode.removeChild(s),a(u)}};return s.onerror=s.onload=i,s.href=t,r?r.parentNode.insertBefore(s,r.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===e||a===t))return o}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){o=s[r],a=o.getAttribute("data-href");if(a===e||a===t)return o}},r=function(r){return new Promise((function(o,a){var s=n.miniCssF(r),i=n.p+s;if(t(s,i))return o();e(r,i,null,o,a)}))},o={524:0};n.f.miniCss=function(e,t){var n={42:1,80:1,206:1,209:1,298:1,300:1,701:1,745:1,807:1,818:1,975:1,989:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={524:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=a);var s=n.p+n.u(t),i=new Error,u=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}};n.l(s,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,s=r[0],i=r[1],u=r[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(u)var d=u(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},r=self["webpackChunkdemo1"]=self["webpackChunkdemo1"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(9802)}));r=n.O(r)})();
//# sourceMappingURL=app.28767725.js.map
"use strict";(self["webpackChunkdemo1"]=self["webpackChunkdemo1"]||[]).push([[818],{4110:function(t,s,e){e.d(s,{A:function(){return u}});e(4114);var o=function(){var t=this,s=t._self._c;return t.item.goods_id?s("div",{staticClass:"goods-item",on:{click:function(s){return t.$router.push(`prodetail/${t.item.goods_id}`)}}},[s("div",{staticClass:"left"},[s("img",{attrs:{src:t.item.goods_image,alt:""}})]),s("div",{staticClass:"right"},[s("p",{staticClass:"tit text-ellipsis-2"},[t._v(" "+t._s(t.item.goods_name)+" ")]),s("p",{staticClass:"count"},[t._v("已售"+t._s(t.item.goods_sales)+"件")]),s("p",{staticClass:"price"},[s("span",{staticClass:"new"},[t._v("¥"+t._s(t.item.goods_price_min))]),s("span",{staticClass:"old"},[t._v("¥"+t._s(t.item.line_price_max))])])])]):t._e()},r=[],a={props:{item:{type:Object,default:()=>({})}}},i=a,n=e(1656),c=(0,n.A)(i,o,r,!1,null,"6df0734c",null),u=c.exports},1818:function(t,s,e){e.r(s),e.d(s,{default:function(){return d}});e(4114);var o=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch||"搜索商品","show-action":""},on:{click:function(s){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[s("van-icon",{staticClass:"tool",attrs:{name:"apps-o"},on:{click:function(s){return t.$router.push("/category")}}})]},proxy:!0}])}),s("div",{staticClass:"sort-btns"},[s("div",{staticClass:"sort-item",on:{click:function(s){return t.sort("all")}}},[t._v("综合")]),s("div",{staticClass:"sort-item",on:{click:function(s){return t.sort("sales")}}},[t._v("销量")]),s("div",{staticClass:"sort-item",on:{click:function(s){return t.sort("price",t.sortnum)}}},[t._v("价格 ")])]),s("div",{staticClass:"goods-list"},t._l(t.proList,(function(t){return s("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},r=[],a=e(4110),i=e(4194),n={name:"SearchIndex",components:{GoodsItem:a.A},data(){return{page:1,proList:[],flag:!0,sortnum:1}},async created(){const{data:{list:t}}=await(0,i.F)({categoryId:this.$route.query.categoryId,sortType:"all",sortPrice:1,goodsName:this.querySearch,page:this.page});console.log(t),this.proList=t.data},computed:{querySearch(){return this.$route.query.search}},methods:{async sort(t,s){this.flag?this.sortnum=0:this.sortnum=1,this.flag=!this.flag;const{data:{list:e}}=await(0,i.F)({sortType:t,sortPrice:s,goodsName:this.querySearch,page:this.page});this.proList=e.data}}},c=n,u=e(1656),l=(0,u.A)(c,o,r,!1,null,"6e36af11",null),d=l.exports},4194:function(t,s,e){e.d(s,{F:function(){return r}});var o=e(5720);const r=t=>{const{sortType:s,sortPrice:e,categoryId:r,goodsName:a,page:i}=t;return o.A.get("/goods/list",{params:{sortType:s,sortPrice:e,categoryId:r,goodsName:a,page:i}})}}}]);
//# sourceMappingURL=818.066c27e3.js.map